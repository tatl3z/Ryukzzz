/**
 * @fileoverview Rule to enforce concise object methods and properties.
 * @author Jamund Ferguson
 */

"use strict";

const OPTIONS = {
    always: "always",
    never: "never",
    methods: "methods",
    properties: "properties",
    consistent: "consistent",
    consistentAsNeeded: "consistent-as-needed"
};

//------------------------------------------------------------------------------
// Requirements
//------------------------------------------------------------------------------
const astUtils = require("./utils/ast-utils");

//------------------------------------------------------------------------------
// Rule Definition
//------------------------------------------------------------------------------
/** @type {import('../shared/types').Rule} */
module.exports = {
    meta: {
        type: "suggestion",

        docs: {
            description: "Require or disallow method and property shorthand syntax for object literals",
            recommended: false,
            url: "https://eslint.org/docs/latest/rules/object-shorthand"
        },

        fixable: "code",

        schema: {
            anyOf: [
                {
                    type: "array",
                    items: [
                        {
                            enum: ["always", "methods", "properties", "never", "consistent", "consistent-as-needed"]
                        }
                    ],
                    minItems: 0,
                    maxItems: 1
                },
                {
                    type: "array",
                    items: [
                        {
                            enum: ["always", "methods", "properties"]
                        },
                        {
                            type: "object",
                            properties: {
                                avoidQuotes: {
                                    type: "boolean"
                                }
                            },
                            additionalProperties: false
                        }
                    ],
                    minItems: 0,
                    maxItems: 2
                },
                {
                    type: "array",
                    items: [
                        {
                            enum: ["always", "methods"]
                        },
                        {
                            type: "object",
                            properties: {
                                ignoreConstructors: {
                                    type: "boolean"
                                },
                                methodsIgnorePattern: {
                                    type: "string"
                                },
                                avoidQuotes: {
                                    type: "boolean"
                                },
                                avoidExplicitReturnArrows: {
                                    type: "boolean"
                                }
                            },
                            additionalProperties: false
                        }
                    ],
                    minItems: 0,
                    maxItems: 2
                }
            ]
        },

        messages: {
            expectedAllPropertiesShorthanded: "Expected shorthand for all properties.",
            expectedLiteralMethodLongform: "Expected longform method syntax for string literal keys.",
            expectedPropertyShorthand: "Expected property shorthand.",
            expectedPropertyLongform: "Expected longform property syntax.",
            expectedMethodShorthand: "Expected method shorthand.",
            expectedMethodLongform: "Expected longform method syntax.",
            unexpectedMix: "Unexpected mix of shorthand and non-shorthand properties."
        }
    },

    create(context) {
        const APPLY = context.options[0] || OPTIONS.always;
        const APPLY_TO_METHODS = APPLY === OPTIONS.methods || APPLY === OPTIONS.always;
        const APPLY_TO_PROPS = APPLY === OPTIONS.properties || APPLY === OPTIONS.always;
        const APPLY_NEVER = APPLY === OPTIONS.never;
        const APPLY_CONSISTENT = APPLY === OPTIONS.consistent;
        const APPLY_CONSISTENT_AS_NEEDED = APPLY === OPTIONS.consistentAsNeeded;

        const PARAMS = context.options[1] || {};
        const IGNORE_CONSTRUCTORS = PARAMS.ignoreConstructors;
        const METHODS_IGNORE_PATTERN = PARAMS.methodsIgnorePattern
            ? new RegExp(PARAMS.methodsIgnorePattern, "u")
            : null;
        const AVOID_QUOTES = PARAMS.avoidQuotes;
        const AVOID_EXPLICIT_RETURN_ARROWS = !!PARAMS.avoidExplicitReturnArrows;
        const sourceCode = context.sourceCode;

        //--------------------------------------------------------------------------
        // Helpers
        //--------------------------------------------------------------------------

        const CTOR_PREFIX_REGEX = /[^_$0-9]/u;

        /**
         * Determines if the first character of the name is a capital letter.
         * @param {string} name The name of the node to evaluate.
         * @returns {boolean} True if the first character of the property name is a capital letter, false if not.
         * @private
         */
        function isConstructor(name) {
            const match = CTOR_PREFIX_REGEX.exec(name);

            // Not a constructor if name has no characters apart from '_', '$' and digits e.g. '_', '$$', '_8'
            if (!match) {
                return false;
            }

            const firstChar = name.charAt(match.index);

            return firstChar === firstChar.toUpperCase();
        }

        /**
         * Determines if the property can have a shorthand form.
         * @param {ASTNode} property Property AST node
         * @returns {boolean} True if the property can have a shorthand form
         * @private
         */
        function canHaveShorthand(property) {
            return (property.kind !== "set" && property.kind !== "get" && property.type !== "SpreadElement" && property.type !== "SpreadProperty" && property.type !== "ExperimentalSpreadProperty");
        }

        /**
         * Checks whether a node is a string literal.
         * @param {ASTNode} node Any AST node.
         * @returns {boolean} `true` if it is a string literal.
         */
        function isStringLiteral(node) {
            return node.type === "Literal" && typeof node.value === "string";
        }

        /**
         * Determines if the property is a shorthand or not.
         * @param {ASTNode} property Property AST node
         * @returns {boolean} True if the property is considered shorthand, false if not.
         * @private
         */
        function isShorthand(property) {

            // property.method is true when `{a(){}}`.
            return (property.shorthand || property.method);
        }

        /**
         * Determines if the property's key and method or value are named equally.
         * @param {ASTNode} property Property AST node
         * @returns {boolean} True if the key and value are named equally, false if not.
         * @private
         */
        function isRedundant(property) {
            const value = property.value;

            if (value.type === "FunctionExpression") {
                return !value.id; // Only anonymous should be shorthand method.
            }
            if (value.type === "Identifier") {
                return astUtils.getStaticPropertyName(property) === value.name;
            }

            return false;
        }

        /**
         * Ensures that an object's properties are consistently shorthand, or not shorthand at all.
         * @param {ASTNode} node Property AST node
         * @param {boolean} checkRedundancy Whether to check longform redundancy
         * @returns {void}
         */
        function checkConsistency(node, checkRedundancy) {

            // We are excluding getters/setters and spread properties as they are considered neither longform nor shorthand.
            const properties = node.properties.filter(canHaveShorthand);

            // Do we      ËØÿÿÿI W M P C u s t o m S l i d e r     hbin °Ø                       øÿÿÿÀ¯Ø ÿÿÿnk  €%wä¬Õ   H¯Ø        ÿÿÿÿÿÿÿÿ   ø°Øx• ÿÿÿÿ            N          ProxyStubClsid  èÿÿÿvk  N    °Ø      ¨ÿÿÿ{ 0 0 0 2 0 4 2 4 - 0 0 0 0 - 0 0 0 0 - C 0 0 0 - 0 0 0 0 0 0 0 0 0 0 4 6 }    €
  øÿÿÿˆ°Øàÿÿÿlh (°Øc#¡Ž ±ØüC¶»ø±Ø×§ ÿÿÿnk  €%wä¬Õ   H¯Ø        ÿÿÿÿÿÿÿÿ   ð±Øx• ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   ˜±Ø       ¨ÿÿÿ{ 0 0 0 2 0 4 2 4 - 0 0 0 0 - 0 0 0 0 - C 0 0 0 - 0 0 0 0 0 0 0 0 0 0 4 6 }       øÿÿÿ€±Ø¨ÿÿÿnk  €%wä¬Õ   H¯Ø        ÿÿÿÿÿÿÿÿ   À²Øx• ÿÿÿÿ           N          TypeLib èÿÿÿvk  N   h²Ø     ¶»¨ÿÿÿ{ 6 B F 5 2 A 5 0 - 3 9 4 A - 1 1 D 3 - B 1 5 3 - 0 0 C 0 4 F 7 9 F A A 6 }   #mW wnðÿÿÿP²ØÐ²Ø    àÿÿÿvk    ð²Ø    ÂËVersionnðÿÿÿ1 . 0     ˆÿÿÿnk  €%wä¬Õ   ðÎ<        °´Øÿÿÿÿ   Ð³Ø@\  ÿÿÿÿ            6       &   {95F45AA4-ED0A-11D2-BA67-0000F80855E6}  èÿÿÿvk  6   ³Ø       ÀÿÿÿI W M P C u s t o m S l i d e r C t r l E v e n t s    €  øÿÿÿx³Ø ÿÿÿnk  €%wä¬Õ    ³Ø        ÿÿÿÿÿÿÿÿ   ¨´Øx• ÿÿÿÿ            N          ProxyStubClsid  èÿÿÿvk  N   P´Ø      ¨ÿÿÿ{ 0 0 0 2 0 4 2 0 - 0 0 0 0 - 0 0 0 0 - C 0 0 0 - 0 0 0 0 0 0 0 0 0 0 4 6 }    €
  øÿÿÿ8´Øàÿÿÿlh Ø³Øc#¡ŽÐ´ØüC¶»¨µØ×§ ÿÿÿnk  €%wä¬Õ    ³Ø        ÿÿÿÿÿÿÿÿ    µØx• ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   HµØ       ¨ÿÿÿ{ 0 0 0 2 0 4 2 0 - 0 0 0 0 - 0 0 0 0 - C 0 0 0 - 0 0 0 0 0 0 0 0 0 0 4 6 }       øÿÿÿ0µØ¨ÿÿÿnk  €%wä¬Õ    ³Ø        ÿÿÿÿÿÿÿÿ   p¶Øx• ÿÿÿÿ           N          TypeLib èÿÿÿvk  N   ¶Ø     ¶»¨ÿÿÿ{ 6 B F 5 2 A 5 0 - 3 9 4 A - 1 1 D 3 - B 1 5 3 - 0 0 C 0 4 F 7 9 F A A 6 }   #mW wnðÿÿÿ ¶Ø€¶Ø    àÿÿÿvk     ¶Ø    ÂËVersionnðÿÿÿ1 . 0     ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        ¸Øÿÿÿÿ   °·Ø@\  ÿÿÿÿ            f       &   {95F4AF3A-EF47-424A-9741-FD2815EBA2BD}  èÿÿÿvk  f   @·Ø       ÿÿÿ_ _ x _ W i n d o w s _ C U I _ C V i e w M a n a g e m e n t _ C I I n p u t P a n e S t a t i c s         øÿÿÿ(·Ø ÿÿÿnk  ÀÚÞ¬Õ   °¶Ø        ÿÿÿÿÿÿÿÿ   ˆ¸Ø@\  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   0¸Ø       ¨ÿÿÿ{ 9 5 E 1 5 D 0 A - 6 6 E 6 - 9 3 D 9 - C 5 3 C - 7 6 E 6 2 1 9 D 3 3 4 1 }         øÿÿÿ¸Øðÿÿÿlh ¸·ØüC¶»ˆÿÿÿnk  ÏÁ-º„ŸÚ   ðÎ<        XºØÿÿÿÿ   x¹ØQ  ÿÿÿÿ            B       &   {95F90919-277C-4C4F-A972-09415CB4A0D3}  èÿÿÿvk  B   0¹Ø       ¸ÿÿÿ_ E n v i r o n m e n t W e b B r o w s e r P r o p e r t i e s     øÿÿÿ¹Ø ÿÿÿnk  ÏÁ-º„ŸÚ    ¸Ø        ÿÿÿÿÿÿÿÿ   PºØQ  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   ø¹Ø       ¨ÿÿÿ{ 0 0 0 2 0 4 2 4 - 0 0 0 0 - 0 0 0 0 - C 0 0 0 - 0 0 0 0 0 0 0 0 0 0 4 6 }         øÿÿÿà¹Øèÿÿÿlh €¹ØüC¶»pºØ×§¨ÿÿÿnk  ÏÁ-º„ŸÚ    ¸Ø        ÿÿÿÿÿÿÿÿ   8»ØQ  ÿÿÿÿ           N          TypeLib èÿÿÿvk  N   àºØ       ¨ÿÿÿ{ 9 1 A 7 4 E B 0 - E F A 0 - 4 8 2 B - B 4 3 C - 3 5 C F C 7 4 B 2 7 5 F }         ðÿÿÿÈºØH»Ø    àÿÿÿvk    h»Ø      Version ðÿÿÿa . 0       ˆÿÿÿnk  €%wä¬Õ   ðÎ<        È¼Øÿÿÿÿ    ÿÿÿÿ@\  ÿÿÿÿ                    &   {95fae8e7-a8e7-4ebf-8927-145e940ba511}   ÿÿÿnk  €%wä¬Õ   x»Ø        ÿÿÿÿÿÿÿÿ   À¼Øx• ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   h¼Ø       ¨ÿÿÿ{ 0 b 4 c 2 2 7 f - 2 3 9 4 - 4 3 f f - b a 5 9 - b c 7 6 2 f 5 c 4 6 e a }    P   øÿÿÿP¼Øðÿÿÿlh ð»ØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        À¾Øÿÿÿÿ   à½Ø@\  ÿÿÿÿ            p       &   {95FBB062-0622-50B4-90FD-FC92ECBAA68B}  èÿÿÿvk  p   h½Ø      ˆÿÿÿ_ _ F I I t e r a t o r _ 1 _ C o n t e n t M a n a g e m e n t _ _ C A p p I n s t a l l I n f o R e c o r d       øÿÿÿP½Ø ÿÿÿnk  ÀÚÞ¬Õ   Ø¼Ø        ÿÿÿÿÿÿÿÿ   ¸¾Ø@\  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   `¾Ø     €?¨ÿÿÿ{ 9 5 E 1 5 D 0 A - 6 6 E 6 - 9 3 D 9 - C 5 3 C - 7 6 E 6 2 1 9 D 3 3 4 1 }         øÿÿÿH¾Øðÿÿÿlh è½ØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        ðÀØÿÿÿÿ   ð¿Ø@\  ÿÿÿÿ            Š       &   {95FC070D-CC20-44E5-8C0D-75ED8F7100B0}  èÿÿÿvk  Š   `¿Ø       pÿÿÿ_ _ x _ W i n d o w s _ C I n t e r n a l _ C S h e l l _ C E x p e r i e n c e _ C I J u m p V i e w E x p e r i e n c e M a n a g e r     øÿÿÿH¿Øøÿÿÿ€ÀØhbin ÀØ                        ÿÿÿnk  ÀÚÞ¬Õ   Ð¾Ø        ÿÿÿÿÿÿÿÿ   ø¿Ø@\  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   ˜ÀØ       ¨ÿÿÿ{ 9 5 E 1 5 D 0 A - 6 6 E 6 - 9 3 D 9 - C 5 3 C - 7 6 E 6 2 1 9 D 3 3 4 1 }         ðÿÿÿlh  ÀØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<         ÃØÿÿÿÿ    ÂØ@\  ÿÿÿÿ            †       &   {96045D0B-B38B-5D91-8311-4FBC7AD4337D}  èÿÿÿvk  †   ÁØ       pÿÿÿ_ _ F I I t e r a b l e _ 1 _ W i n d o w s _ _ C A p p l i c a t i o n M o d e l _ _ C C o n t a c t s _ _ C C o n t a c t D a t e         øÿÿÿxÁØ ÿÿÿnk  ÀÚÞ¬Õ    ÁØ        ÿÿÿÿÿÿÿÿ   øÂØ@\  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N    ÂØ       ¨ÿÿÿ{ 9 5 E 1 5 D 0 A - 6 6 E 6 - 9 3 D 9 - C 5 3 C - 7 6 E 6 2 1 9 D 3 3 4 1 }         øÿÿÿˆÂØðÿÿÿlh (ÂØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        PÅØÿÿÿÿ   pÄØ@\  ÿÿÿÿ            È       &   {9604d1d9-1744-5bd3-b5b9-d47b9434facb}  èÿÿÿvk  È    ÃØ       0ÿÿÿW i n d o w s . F o u n d a t i o n . C o l l e c t i o n s . I I t e r a t o r < W i n d o w s . U I . I n p u t . P r e v i e w . I n j e c t i o n . I n j e c t e d I n p u t M o u s e I n f o >       øÿÿÿˆÃØ ÿÿÿnk  ÀÚÞ¬Õ   ÃØ        ÿÿÿÿÿÿÿÿ   HÅØx• ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   ðÄØ       ¨ÿÿÿ{ 4 B 9 0 5 E 0 F - 8 E 3 1 - 4 8 5 3 - B A 9 F - 9 B E 5 8 1 A 3 5 5 3 5 }         øÿÿÿØÄØðÿÿÿlh xÄØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        @ÇØÿÿÿÿ   `ÆØ@\  ÿÿÿÿ            h       &   {96061C05-2DBA-4D08-B0BD-2B30A131C6AA}  èÿÿÿvk  h   ðÅØ       ÿÿÿ_ _ x _ W i n d o w s _ C A p p l i c a t i o n M o d e l _ C I S u s p e n d i n g E v e n t A r g s       øÿÿÿØÅØ ÿÿÿnk  ÀÚÞ¬Õ   `ÅØ        ÿÿÿÿÿÿÿÿ   8ÇØ@\  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   àÆØ       ¨ÿÿÿ{ 9 5 E 1 5 D 0 A - 6 6 E 6 - 9 3 D 9 - C 5 3 C - 7 6 E 6 2 1 9 D 3 3 4 1 }         øÿÿÿÈÆØðÿÿÿlh hÆØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        `ÉØÿÿÿÿ   €ÈØ@\  ÿÿÿÿ            š       &   {9607E377-E873-5091-9E32-8695E8F50E7A}  èÿÿÿvk  š   àÇØ      `ÿÿÿ_ _ F I V e c t o r V i e w _ 1 _ W i n d o w s _ _ C A p p l i c a t i o n M o d e l _ _ C C h a t _ _ C R c s E n d U s e r M e s s a g e A c t i o n     øÿÿÿÈÇØ ÿÿÿnk  ÀÚÞ¬Õ   PÇØ        ÿÿÿÿÿÿÿÿ   XÉØ@\  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N    ÉØ       ¨ÿÿÿ{ 9 5 E 1 5 D 0 A - 6 6 E 6 - 9 3 D 9 - C 5 3 C - 7 6 E 6 2 1 9 D 3 3 4 1 }         øÿÿÿèÈØðÿÿÿlh ˆÈØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        ËØÿÿÿÿ   (ÊØ@\  ÿÿÿÿ            $       &   {96080BE3-6332-4825-92EF-BA6C9AC6D91D}  èÿÿÿvk  $    ÊØ       ØÿÿÿI A p p R e a d i n e s s T a s k   øÿÿÿèÉØ ÿÿÿnk  ÀÚÞ¬Õ   pÉØ        ÿÿÿÿÿÿÿÿ    ËØ@\  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   ¨ÊØ       ¨ÿÿÿ{ 9 5 E 1 5 D 0 A - 6 6 E 6 - 9 3 D 9 - C 5 3 C - 7 6 E 6 2 1 9 D 3 3 4 1 }         øÿÿÿÊØðÿÿÿlh 0ÊØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        ÍØÿÿÿÿ   8ÌØ@\  ÿÿÿÿ            Š       &   {960CFEC7-C4CF-4D33-A13F-B393338756D6}  èÿÿÿvk  Š   ¨ËØ       pÿÿÿ_ _ x _ W i n d o w s _ C I n t e r n a l _ C U I _ C L o g o n _ C S u g g e s t e d U s e r s D a t a _ C I S u g g e s t e d U s e r     øÿÿÿËØ ÿÿÿnk  ÀÚÞ¬Õ   ËØ        ÿÿÿÿÿÿÿÿ   ÍØ@\  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   ¸ÌØ       ¨ÿÿÿ{ 8 6 4 A 9 4 4 9 - 0 5 B 7 - 4 A 4 F - B 2 F B - 7 C B A C A 7 4 A 5 B 1 }         øÿÿÿ ÌØðÿÿÿlh @ÌØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        ÀÎØÿÿÿÿ   àÍØ@\  ÿÿÿÿ                   &   {960DA761-E98A-4E7A-8497-52D03466318B}  èÿÿÿvk     ¸ÍØ       ØÿÿÿI F l i g h t i n g R i n g         øÿÿÿ ÍØ ÿÿÿnk  ÀÚÞ¬Õ   (ÍØ        ÿÿÿÿÿÿÿÿ   ¸ÎØ@\  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   `ÎØ       ¨ÿÿÿ{ A 6 F F 5 0 C 0 - 5 6 C 0 - 7 1 C A - 5 7 3 2 - B E D 3 0 3 A 5 9 6 2 8 }         øÿÿÿHÎØðÿÿÿlh èÍØüC¶»ˆÿÿÿnk  ¦<·=Ú   ðÎ<        ÐØÿÿÿÿ   ÏØQ  ÿÿÿÿ            (       &   {9610855F-A4B7-493B-86EA-CAF473E33237}n-èÿÿÿvk  (   `ÏØ      ÐÿÿÿI D T S L o g P r o v i d e r s 1 0 0   m±íôøÿÿÿHÏØ ÿÿÿnk  ›·=Ú   ÐÎØ        ÿÿÿÿÿÿÿÿ   øÏØQ  ÿÿÿÿ            N          ProxyStubClsid’1øÿÿÿ ÐØhbin ÐØ                       èÿÿÿvk  N   8ÐØ     ´ž¨ÿÿÿ{ 0 0 0 2 0 4 2 4 - 0 0 0 0 - 0 0 0 0 - C 0 0 0 - 0 0 0 0 0 0 0 0 0 0 4 6 }    “Fï>àÿÿÿlh ˜ÏØc#¡Ž°ÐØüC¶»ˆÑØ×§ ÿÿÿnk  ¦<·=Ú   ÐÎØ        ÿÿÿÿÿÿÿÿ   €ÑØQ  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   (ÑØ     5®¨ÿÿÿ{ 0 0 0 2 0 4 2 4 - 0 0 0 0 - 0 0 0 0 - C 0 0 0 - 0 0 0 0 0 0 0 0 0 0 4 6 }    @®ÛøÿÿÿÑØ¨ÿÿÿnk  ¦<·=Ú   ÐÎØ        ÿÿÿÿÿÿÿÿ   PÒØQ  ÿÿÿÿ           N          TypeLibfèÿÿÿvk  N   øÑØ     ¶»¨ÿÿÿ{ 6 4 7 A 9 9 4 6 - 2 4 E 6 - 4 F 1 2 - 8 1 0 0 - 4 6 8 0 F 8 1 4 5 4 0 2 }    1—°eðÿÿÿàÑØ`ÒØ    àÿÿÿvk    €ÒØ    AËVersion¿ðÿÿÿ1 . 0   c#¡Žˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        8ÕØÿÿÿÿ   XÔØ@\  ÿÿÿÿ            2      &   {96121447-A3CC-5CD6-8985-706AFE0B1905}  èÿÿÿvk  2   ÓØ       Èþÿÿ_ _ F I T y p e d E v e n t H a n d l e r _ 2 _ W i n d o w s _ _ C I n t e r n a l _ _ C C o m p o s a b l e S h e l l _ _ C I D i s p l a y P o w e r M o n i t o r _ W i n d o w s _ _ C I n t e r n a l _ _ C C o m p o s a b l e S h e l l _ _ C I D i s p l a y P o w e r M o n i t o r E v e n t A r g s     øÿÿÿÓØ ÿÿÿnk  ÀÚÞ¬Õ   ÒØ        ÿÿÿÿÿÿÿÿ   0ÕØ@\  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   ØÔØ       ¨ÿÿÿ{ 1 2 0 4 4 C C 7 - 3 8 B B - 4 8 7 A - A D 7 4 - D 3 9 F 7 1 3 5 3 0 4 F }         øÿÿÿÀÔØðÿÿÿlh `ÔØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        h×Øÿÿÿÿ   ˆÖØ@\  ÿÿÿÿ            ¨       &   {961229cc-34b1-5c6f-af21-80149a07ace1}  èÿÿÿvk  ¨   ØÕØ       Pÿÿÿ_ _ F I V e c t o r _ 1 _ W i n d o w s _ _ C A p p l i c a t i o n M o d e l _ _ C S t o r e _ _ C P r e v i e w _ _ C S t o r e P r e v i e w P r o d u c t I n f o       øÿÿÿÀÕØ ÿÿÿnk  ÀÚÞ¬Õ   HÕØ        ÿÿÿÿÿÿÿÿ   `×Øx• ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   ×Ø       ¨ÿÿÿ{ 7 C D 4 F 3 6 9 - 6 3 7 9 - 4 E B B - 8 6 D 4 - 8 7 D A 8 E 6 3 C A 3 B }         øÿÿÿðÖØðÿÿÿlh ÖØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<         ÙØÿÿÿÿ   @ØØ@\  ÿÿÿÿ(           2       &   {96125FE4-250A-41E2-A473-A49A849703C8}  èÿÿÿvk  2   ØØ       ÈÿÿÿA s y n c I C o n n e c t e d U s e r S t o r e     øÿÿÿð×Ø ÿÿÿnk  ÀÚÞ¬Õ   x×Ø        ÿÿÿÿÿÿÿÿ   ÙØ@\  ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   ÀØØ      ¨ÿÿÿ{ A 6 F F 5 0 C 0 - 5 6 C 0 - 7 1 C A - 5 7 3 2 - B E D 3 0 3 A 5 9 6 2 8 }         øÿÿÿ¨ØØèÿÿÿlh HØØüC¶»8ÙØ<- ˜ÿÿÿnk  ÀÚÞ¬Õ   x×Ø        ÿÿÿÿÿÿÿÿ   ÚØ@\  ÿÿÿÿ            N          SynchronousInterface    èÿÿÿvk  N   ¸ÙØ       ¨ÿÿÿ{ 9 E C 0 4 4 B C - B 0 1 D - 4 C 1 8 - 8 6 3 4 - 5 9 B D 3 F F 5 D C C 1 }         øÿÿÿ ÙØˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        °ÜØÿÿÿÿ   ÐÛØ@\  ÿÿÿÿ                   &   {961260f1-7352-5edf-9666-1f9a0a8ee477}  èÿÿÿvk     ¨ÚØ      Øþÿÿ_ _ F I A s y n c O p e r a t i o n P r o g r e s s H a n d l e r _ 2 _ W i n d o w s _ _ C S e r v i c e s _ _ C S t o r e _ _ C S t o r e P a c k a g e U p d a t e R e s u l t _ W i n d o w s _ _ C S e r v i c e s _ _ C S t o r e _ _ C S t o r e P a c k a g e U p d a t e S t a t u s       øÿÿÿÚØ ÿÿÿnk  ÀÚÞ¬Õ   ÚØ        ÿÿÿÿÿÿÿÿ   ¨ÜØx• ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   PÜØ       ¨ÿÿÿ{ 7 C D 4 F 3 6 9 - 6 3 7 9 - 4 E B B - 8 6 D 4 - 8 7 D A 8 E 6 3 C A 3 B }         øÿÿÿ8ÜØðÿÿÿlh ØÛØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        ÞØÿÿÿÿ    ÿÿÿÿ@\  ÿÿÿÿ                    &   {961329F0-B455-47EC-91EE-59EEF9F762BA}   ÿÿÿnk  ÀÚÞ¬Õ   ÀÜØ        ÿÿÿÿÿÿÿÿ   ÞØx• ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   °ÝØ       ¨ÿÿÿ{ E C 8 A 7 A 1 8 - F E 6 8 - 4 0 3 f - 9 6 2 5 - C F 6 3 0 2 6 F 1 B B 4 }         øÿÿÿ˜ÝØðÿÿÿlh 8ÝØüC¶»ˆÿÿÿnk  €%wä¬Õ   ðÎ<        pßØÿÿÿÿ    ÿÿÿÿ@\  ÿÿÿÿ                    &   {96168d06-a51a-5480-9403-fbd7631e3b3c}   ÿÿÿnk  €%wä¬Õ    ÞØ        ÿÿÿÿÿÿÿÿ   hßØx• ÿÿÿÿ            N          ProxyStubClsid32èÿÿÿvk  N   ßØ      ¨ÿÿÿ{ 2 1 6 9 A 9 3 3 - 9 5 E 2 - 4 1 B A - 9 3 7 7 - D 3 F C E 9 4 4 8 3 8 1 }       øÿÿÿøÞØðÿÿÿlh ˜ÞØüC¶»ˆÿÿÿnk  ÀÚÞ¬Õ   ðÎ<        páØÿÿÿÿ   øßØ@\  ÿÿÿÿ            V       &   

                    // {[x]: function(){}} should be written as {[x]() {}}
                    if (node.value.type === "FunctionExpression" ||
                        node.value.type === "ArrowFunctionExpression" &&
                        node.value.body.type === "BlockStatement" &&
                        AVOID_EXPLICIT_RETURN_ARROWS &&
                        !arrowsWithLexicalIdentifiers.has(node.value)
                    ) {
                        context.report({
                            node,
                            messageId: "expectedMethodShorthand",
                            fix: fixer => makeFunctionShorthand(fixer, node)
                        });
                    }
                } else if (node.value.type === "Identifier" && node.key.name === node.value.name && APPLY_TO_PROPS) {

                    // {x: x} should be written as {x}
                    context.report({
                        node,
                        messageId: "expectedPropertyShorthand",
                        fix(fixer) {
                            return fixer.replaceText(node, node.value.name);
                        }
                    });
                } else if (node.value.type === "Identifier" && node.key.type === "Literal" && node.key.value === node.value.name && APPLY_TO_PROPS) {
                    if (AVOID_QUOTES) {
                        return;
                    }

                    // {"x": x} should be written as {x}
                    context.report({
                        node,
                        messageId: "expectedPropertyShorthand",
                        fix(fixer) {
                            return fixer.replaceText(node, node.value.name);
                        }
                    });
                }
            }
        };
    }
};
